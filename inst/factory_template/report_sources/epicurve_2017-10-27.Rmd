---
title: "Example of epicurve analysis"
author: Yourname Here
date: 2017-10-27
---

	
```{r options, include = FALSE, message = FALSE, warning = FALSE, error = FALSE}
library(knitr)
opts_chunk$set(collapse = TRUE)
```


# An example of linelist

## Loading the data

We use `here` to locate the data stored in the `data/` folder, and `readxl` to import data from the `.xlsx` file `PHM-EVD-linelist-2017-10-27.xlsx`
	
```{r read_data}
path_to_file <- here::here("data/linelists/PHM-EVD-linelist-2017-10-27.xlsx")
linelist <- readxl::read_xlsx(path_to_file)
```

Note that for further analyses, you will need to make sure all dates are stored
as `Date` objects. This can be done using `as.Date`:

```{r date_conversion}
linelist$onset <- as.Date(linelist$onset)
```

We have a look at the data:
```{r read_files}
## linelist: one line per case
linelist
```



# Descriptive analyses

## Looking at incidence curves

We build an incidence curve based on date of onset:

```{r incidence, echo = -c(1,2)}
library(incidence)
i <- incidence(linelist$onset)
i
plot(i)
```

We need to specify the most recent date at which the data was complete, in this
case, the 27th October 2017:

```{r incidence_rectif}
i <- incidence(linelist$onset, last_date = as.Date("2017-10-27"))
i
plot(i)
```

